# ***********************
# ----------------------------------- 
# DUEL routing setup for outputs.conf
# ----------------------------------- 
#
# The following is the standard setup for Spluk Forwarding to the Splunk Cloud.
# For this the default routing is to the set of cloud indexers on port 9997.
#
# #### start
#  [tcpout]
#  defaultGroup = splunkcloud
#
#  [tcpout:splunkcloud]
#  server = inputs1.marriottplatform.splunkcloud.com:9997, inputs2.marriottplatform.splunkcloud.com:9997, inputs3.marriottplatform.splunkcloud.com:9997, inputs4.marriottplatform.splunkcloud.com:9997, inputs5.marriottplatform.splunkcloud.com:9997, inputs6.marriottplatform.splunkcloud.com:9997, inputs7.marriottplatform.splunkcloud.com:9997, inputs8.marriottplatform.splunkcloud.com:9997, inputs9.marriottplatform.splunkcloud.com:9997, inputs10.marriottplatform.splunkcloud.com:9997, inputs11.marriottplatform.splunkcloud.com:9997, inputs12.marriottplatform.splunkcloud.com:9997, inputs13.marriottplatform.splunkcloud.com:9997, inputs14.marriottplatform.splunkcloud.com:9997, inputs15.marriottplatform.splunkcloud.com:9997
#  compressed = false
#
#  sslCertPath = $SPLUNK_HOME/etc/apps/100_marriottplatform_splunkcloud/default/marriottplatform_server.pem
#  sslRootCAPath = $SPLUNK_HOME/etc/apps/100_marriottplatform_splunkcloud/default/marriottplatform_cacert.pem
#  sslPassword = <<REDACTED>>
#
#  sslCommonNameToCheck = *.marriottplatform.splunkcloud.com
#  sslVerifyServerCert = true
#  useClientSSLCompression = true
# ####  end
#
# - With the addition of the following additional sets of TCP targets can be established.
# - In order to not alter existing deployments, a seperate applciation is created to allow 
#   these settings to be added to a server as needed
#
# #### start
# [tcpout:splunkDEV]
# server = 172.25.13.157:9997
# ###  end
#
# - An input can then add a _TCP_ROUTING to direct the data to a sepetrate Splunk instance.
#
# [monitor:///var/log/*.log]
# sourcetype=ibm:datapower:syslog
# index=datapower
# _TCP_ROUTING=splunkdevDEV
#
#
# Installation
# ============
# 1) Deploy this application (application=mi_itopps_nonprod_routing, serverclass=mi_itopps_nonprod_routing)
#    to servers identified to have DUEL routing enabled.
#
# 2) All existing inputs will default to the splunk cloud.
#
# 3) For a specifc input add a _TCP_ROUTING stansa to direct the input/s to splunkDEV
#
#    For example:
# 						_TCP_ROUTING = splunkDEV
# 
# 4) If data is desired to go to both splunkcloud and DEV, then add a 2nd monitor for the same input
#    and add the TCP_ROUTING
#
# ***********************

[tcpout:splunkDEV]
server = 172.25.13.157:9997
